{% extends 'base.html' %}
{% block content %}

		<div class="row">
      <div class="col-sm-6 col-lg-4 my-3">
        {%  if product_list %}
        {% for product in product_list %}
        <div class="card">
          <img src="{{ product.image.url }}" alt="product image" class="img-fluid card-image">
            <!-- image overlay text -->
            <div class="card-img-overlay">
                <a href="{{ product.get_absolute_url }}" aria-label="view product">
                    <h6 class="card-title">{{ product.title }}</h6>
                </a>   
            </div>
        </div> <!-- end card -->
      </div> <!-- end col -->
    </div> <!-- end row -->

	{% endfor %}
	<!-- pagination code credit: Corey Shafer https://www.youtube.com/watch?v=acOktTcTVEQ&list=PL-osiE80TeTtoQCKZ03TU5fNfx2UY6U4p&index=11 -->
	{% if is_paginated %}

      {% if page_obj.has_previous %}
        <a class="btn btn-outline-warning btn-sm mb-4" href="?page=1">First</a>
        <a class="btn btn-outline-warning btn-sm mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
      {% endif %}

      {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
          <a class="btn btn-warning btn-sm mb-4" href="?page={{ num }}">{{ num }}</a>
        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
          <a class="btn btn-outline-warning btn-sm mb-4" href="?page={{ num }}">{{ num }}</a>
        {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
        <a class="btn btn-outline-warning btn-sm mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
        <a class="btn btn-outline-warning btn-sm mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
      {% endif %}

    {% endif %}
		
	{% else %}
	<h4 class= "text-center"> There are no products to display at this time </h4>	
	{% endif %}
{% endblock%}